(function($){$.fn.toggles=function(b){b=b||{};var a=$.extend({c:!0,click:!0,text:{on:"ON",off:"OFF"},on:!0,animate:250,d:"ease-in-out",a:null,b:null,width:50,height:20},b);a.checkbox=$(a.checkbox);a.clicker&&(a.clicker=$(a.clicker));b="margin-left "+a.animate+"ms "+a.transition;var s={"-webkit-transition":b,"-moz-transition":b,transition:b},t={"-webkit-transition":"","-moz-transition":"",transition:""};return this.each(function(){var d=$(this),c=d.height(),j=d.width();if(!c||!j)d.height(c=a.height),d.width(j=
a.width);var g=$('<div class="slide">'),b=$('<div class="inner">'),m=$('<div class="on">'),n=$('<div class="off">'),f=$('<div class="blob">'),h=c/2,p=j-h;m.css({height:c,width:p,textAlign:"center",textIndent:-h,lineHeight:c+"px"}).text(a.text.on);n.css({height:c,width:p,marginLeft:-h,textAlign:"center",textIndent:h,lineHeight:c+"px"}).text(a.text.off);f.css({height:c,width:c,marginLeft:-h});b.css("width",2*j-c);a.on&&(g.addClass("active"),a.checkbox.attr("checked",!0));d.html(g.html(b.append(m,f,
n)));d.on("toggle",function(){var b=j,d=c,e=g.toggleClass("active").hasClass("active"),f=g.find(".inner").css(s),h=e?0:-b+d;f.css("margin-left",h);a.checkbox.attr("checked",e);setTimeout(function(){f.css(t);f.css("margin-left",h)},a.animate)});if(a.click&&(!a.clicker||!a.clicker.has(d).length))d.on("click",function(b){(b.target!=f[0]||!a.drag)&&d.trigger("toggle",!g.hasClass("active"))});if(a.clicker)a.clicker.on("click",function(b){(b.target!=f[0]||!a.drag)&&d.trigger("toggle",!g.hasClass("active"))});
if(a.drag){var e,q=(j-c)/4,r=function(h){d.off("mousemove");g.off("mouseleave");f.off("mouseup");var l=g.hasClass("active");!e&&a.click&&"mouseleave"!==h.type?d.trigger("toggle",!l):l?e<-q?self.trigger("toggle",!l):b.animate({marginLeft:0},a.animate/2):e>q?self.trigger("toggle",!l):b.animate({marginLeft:-j+c},a.animate/2)},k=-j+c;f.on("mousedown",function(a){e=0;f.off("mouseup");g.off("mouseleave");var c=a.pageX;d.on("mousemove",f,function(a){e=a.pageX-c;g.hasClass("active")?(a=e,0<e&&(a=0),e<k&&
(a=k)):(a=e+k,0>e&&(a=k),e>-k&&(a=0));b.css("margin-left",a)});f.on("mouseup",r);g.on("mouseleave",r)})}})};})(jQuery);
